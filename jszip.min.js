async function exportIconPack() {
  if (!window.JSZip) {
    alert("JSZip chưa load!");
    return;
  }

  const zip = new JSZip();
  const iconFolder = zip.folder("icons");

  const files = document.querySelectorAll('input[type="file"]')[0].files;

  if (!files.length) {
    alert("Chưa có icon nào!");
    return;
  }

  const button = document.querySelector("#exportBtn");
  button.textContent = "Exporting...";
  button.disabled = true;

  for (let file of files) {
    const arrayBuffer = await file.arrayBuffer();
    iconFolder.file(file.name, arrayBuffer);
  }

  const blob = await zip.generateAsync({
    type: "blob",
    compression: "STORE" // ⚡ không nén → cực nhanh
  });

  const link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = "icon-pack.zip";
  link.click();

  button.textContent = "Export Icon Pack ZIP";
  button.disabled = false;
}
